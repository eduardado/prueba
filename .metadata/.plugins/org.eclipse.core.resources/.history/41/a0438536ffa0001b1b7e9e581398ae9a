package com.comerzzia.bookerzzia.backoffice.web.lenguajes.acciones;

import javax.servlet.http.HttpServletRequest;
import javax.servlet.http.HttpSession;

import com.comerzzia.bookerzzia.backoffice.services.lenguajes.ParametrosBuscarLenguajesBean;
import com.comerzzia.bookerzzia.backoffice.web.tags.CustomWebKeys;
import com.comerzzia.core.servicios.permisos.PermisosEfectivosAccionBean;
import com.comerzzia.core.servicios.sesion.DatosSesionBean;
import com.comerzzia.taglib.WebKeys;
import com.comerzzia.web.base.Accion;
import com.comerzzia.web.base.Vista;

//este servlet se ejecuta al entrar en la pantalla por primera vez
public class EjecutarAccion extends Accion{

	@Override
	public Vista ejecutar(HttpServletRequest request) { // recibe un request y devuelve una vista
		
		// obtiene los datos de la sesión 
		HttpSession httpSession = request.getSession();
		DatosSesionBean datosSesion = (DatosSesionBean) httpSession.getAttribute(WebKeys.DATOS_SESION);

		// Comprueba los permisos de la acción
		PermisosEfectivosAccionBean permisos = datosSesion.getPermisos(this.getAccionMenu()); // TODO para qué este this?
		if(!permisos.isPuedeEjecutar()) { // si el permiso no se puede ejecutar
			return SIN_PERMISO;
		}
		
		// 
//		PermisosEfectivosAccionBean permisos = (PermisosEfectivosAccionBean) httpSession.getAttribute(CustomWebKeys.PARAM_BUSCAR_LENGUAJES);
		
		
		
		return null;
	}

	@Override
	public String getNombre() {
		// TODO Auto-generated method stub
		return null;
	}

}
